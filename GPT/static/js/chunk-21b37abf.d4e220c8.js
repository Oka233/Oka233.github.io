(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21b37abf"],{7229:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wizard-container"},[a("el-card",{staticClass:"box-card"},[a("el-form",[a("el-form-item",{attrs:{label:"平台:"}},[a("el-select",{model:{value:e.platformForm.platformType,callback:function(t){e.$set(e.platformForm,"platformType",t)},expression:"platformForm.platformType"}},[a("el-option",{attrs:{value:"openai",label:"OpenAI"}})],1)],1),a("el-form-item",{attrs:{label:"API Key:"}},[a("el-input",{attrs:{type:"text"},model:{value:e.platformForm.apiKey,callback:function(t){e.$set(e.platformForm,"apiKey",t)},expression:"platformForm.apiKey"}})],1),a("el-form-item",[a("el-button",{attrs:{loading:e.apiKeyVerifying},on:{click:e.confirm}},[e._v("确定")])],1)],1)],1)],1)},o=[],i=a("c7eb"),s=a("1da1"),l=a("f4e9"),n=a("a18c"),p=a("5d2d"),c=a("4360"),m={name:"StartWizard",data:function(){return{apiKeyVerifying:!1,dialogVisible:!0,platformForm:{platformType:"openai",apiKey:"sk-"}}},methods:{confirm:function(){var e=this;return Object(s["a"])(Object(i["a"])().mark((function t(){var a,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.apiKeyVerifying=!0,t.prev=1,a=new l["a"](e.platformForm.platformType),t.next=5,a.verifyKey(e.platformForm.apiKey);case 5:r=t.sent,e.$message.success(r),e.$store.commit("sys/setPlatformType",e.platformForm.platformType),e.$store.commit("sys/setChatModel",e.platformForm.platformType),e.$store.commit("openai/setApiKey",e.platformForm.apiKey),e.$store.commit("sys/ready",!0),c["a"].getters.chatModel.loadSettings(),c["a"].getters.chatModel.init(),p["a"].save(),n["a"].push({path:"/chat"}),t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](1),e.$message.error(t.t0.message);case 20:e.apiKeyVerifying=!1;case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))()}}},f=m,u=(a("9c9c"),a("2877")),y=Object(u["a"])(f,r,o,!1,null,"8f50ae10",null);t["default"]=y.exports},"9c9c":function(e,t,a){"use strict";a("d9f9")},d9f9:function(e,t,a){}}]);